<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/dashboard.css" />
  <title>My Books</title>
  <script type="module" src="./bookStatus.js"></script>
</head>
<body>
    <nav class="nav-container">
        <ul class="nav-list">
            <li><a href="dashboard.html">Home</a></li>
            <li>
                <a href="MyClubs.html" class="nav-button">My Clubs</a>
                <a href="club.html" class="nav-button">Create A Club</a>
                <a href="join.html" class="nav-button">Join</a>
                <a href="myBooks.html" class="nav-button">My Books</a>
            </li>
            <li class="user-dropdown">
                <img src="https://img.icons8.com/ios-glyphs/30/000000/user.png"
                     alt="User Icon" class="user-icon" onclick="toggleDropdown()" />
                <ul class="dropdown-menu" id="user-dropdown-menu">
                    <li><a href="#">Discussions</a></li>
                    <li><a href="#">Account</a></li>
                    <li><a href="verify-email.html">Verify Email</a></li>
                    <li><a href="logout.html">Logout</a></li>
                </ul>
            </li>
        </ul>
    </nav>
    <h1>My Books</h1>

    <!-- Container to display books -->
    <div id="my-books-container"></div>

    <!-- Initialize Firestore and Auth in a separate script -->
    <script type="module">
        import { auth } from './firebaseConfig.js';
        import BookStatus from './bookStatus.js';

        // Check if user is logged in and refresh book list if so
        auth.onAuthStateChanged(user => {
            if (user) {
                console.log("User logged in:", user);
                BookStatus.updateMyBooksPage();
            } else {
                console.log("No authenticated user.");
            }
        });
    </script>
</body>
</html>
