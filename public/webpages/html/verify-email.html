<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verify Your Email</title>
    <link rel="stylesheet" href="../css/loginreg.css">
</head>
<body>
    <h1>Check Your Email</h1>
    <p>A verification email has been sent to your inbox. Please verify your email to proceed:]</p>
    
    <!-- Button to resend the verification email -->
    <button id="resendVerification">Resend Verification Email</button>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script>
        // Initialize Firebase
        var firebaseConfig = {
            apiKey: "AIzaSyAt-SInlPaL2FzwtXrRltIEiV5l8k5HMjg",
            authDomain: "pageturners-a831a.firebaseapp.com",
            projectId: "pageturners-a831a",
            storageBucket: "pageturners-a831a.appspot.com",
            messagingSenderId: "304224952392",
            appId: "1:304224952392:web:f33dbc84b481e39a44787d",
            measurementId: "G-C6DKQSJ1R8"
        };
        firebase.initializeApp(firebaseConfig);

        const auth = firebase.auth();

        // Resend verification email logic
        document.getElementById('resendVerification').addEventListener('click', () => {
            const user = auth.currentUser;
            if (user) {
                user.sendEmailVerification().then(() => {
                    alert("Verification email resent. Please check your inbox.");
                    window.location.href = "./dashboard.html";
                }).catch(error => {
                    alert("Error resending verification email: " + error.message);
                });
            } else {
                alert("No user logged in or email already sent.");
            }
        });
    </script>
</body>
</html>
